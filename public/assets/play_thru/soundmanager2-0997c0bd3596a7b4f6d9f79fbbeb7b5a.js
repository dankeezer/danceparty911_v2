!function(e){function t(t,o){function n(e){return dt.preferFlash&&at&&!dt.ignoreFlash&&void 0!==dt.flash[e]&&dt.flash[e]}function i(e){return function(t){var o,n=this._s;return n&&n._a?o=e.call(this,t):(n&&n.id?dt._wD(mt+"ignoring "+t.type+": "+n.id):dt._wD(mt+"ignoring "+t.type),o=null),o}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!1,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1},this.defaultOptions={autoLoad:!0,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=o||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20121104",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var a,s,r,l,u,d,f,c,h,p,m,_,g,y,v,w,b,O,D,M,S,L,T,P,F,I,H,E,k,A,C,x,N,R,U,B,W,j,q,V,J,Q,$,K,X,G,z,Y,Z,et,tt,ot,nt,it,at,st,rt,lt,ut,dt=this,ft=null,ct=null,ht="soundManager",pt=ht+"::",mt="HTML5::",_t=navigator.userAgent,gt=e,yt=gt.location.href.toString(),vt=document,wt=[],bt=!0,Ot=!1,Dt=!1,Mt=!1,St=!1,Lt=!1,Tt=0,Pt=["log","info","warn","error"],Ft=8,It=null,Ht=null,Et=!1,kt=!1,At=0,Ct=null,xt=null,Nt=Array.prototype.slice,Rt=!1,Ut=_t.match(/(ipad|iphone|ipod)/i),Bt=_t.match(/msie/i),Wt=_t.match(/webkit/i),jt=_t.match(/safari/i)&&!_t.match(/chrome/i),qt=_t.match(/opera/i),Vt=_t.match(/(mobile|pre\/|xoom)/i)||Ut,Jt=!yt.match(/usehtml5audio/i)&&!yt.match(/sm2\-ignorebadua/i)&&jt&&!_t.match(/silk/i)&&_t.match(/OS X 10_6_([3-7])/i),Qt=void 0!==e.console&&void 0!==console.log,$t=void 0!==vt.hasFocus?vt.hasFocus():null,Kt=jt&&(void 0===vt.hasFocus||!vt.hasFocus()),Xt=!Kt,Gt=/(mp3|mp4|mpa|m4a|m4b)/i,zt="about:blank",Yt=vt.location?vt.location.protocol.match(/http/i):null,Zt=Yt?"":"http://",eo=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,to=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],oo=new RegExp("\\.("+to.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Yt,B={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Vt&&(dt.useHTML5Audio=!0,dt.preferFlash=!1,Ut&&(dt.ignoreFlash=!0,Rt=!0)),this.hasHTML5=function(){try{return void 0!==Audio&&void 0!==(qt&&void 0!==opera&&opera.version()<10?new Audio(null):new Audio).canPlayType}catch(e){return!1}}(),this.setup=function(e){var t=!dt.url;return void 0!==e&&Mt&&xt&&dt.ok()&&(void 0!==e.flashVersion||void 0!==e.url)&&V(N("setupLate")),m(e),t&&P&&void 0!==e.url&&dt.beginDelayedInit(),P||void 0===e.url||"complete"!==vt.readyState||setTimeout(L,1),dt},this.ok=function(){return xt?Mt&&!St:dt.useHTML5Audio&&dt.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return s(e)||vt[e]||gt[e]},this.createSound=function(e,t){function o(){return s=j(s),dt.sounds[s.id]=new a(s),dt.soundIDs.push(s.id),dt.sounds[s.id]}var n,i,s,r=null;return n=ht+".createSound(): ",i=n+N(Mt?"notOK":"notReady"),Mt&&dt.ok()?(void 0!==t&&(e={id:e,url:t}),s=p(e),s.url=X(s.url),s.id.toString().charAt(0).match(/^[0-9]$/)&&dt._wD(n+N("badID",s.id),2),dt._wD(n+s.id+" ("+s.url+")",1),J(s.id,!0)?(dt._wD(n+s.id+" exists",1),dt.sounds[s.id]):(z(s)?(r=o(),dt._wD("Creating sound "+s.id+", using HTML5"),r._setup_html5(s)):(d>8&&(null===s.isMovieStar&&(s.isMovieStar=!(!s.serverURL&&(s.type?!s.type.match(eo):1)&&!s.url.match(oo))),s.isMovieStar&&(dt._wD(n+"using MovieStar handling"),s.loops>1&&c("noNSLoop"))),s=q(s,n),r=o(),8===d?ct._createSound(s.id,s.loops||1,s.usePolicyFile):(ct._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),s.serverURL||(r.connected=!0,s.onconnect&&s.onconnect.apply(r))),s.serverURL||!s.autoLoad&&!s.autoPlay||r.load(s)),!s.serverURL&&s.autoPlay&&r.play(),r)):(V(i),!1)},this.destroySound=function(e,t){if(!J(e))return!1;var o,n=dt.sounds[e];for(n._iO={},n.stop(),n.unload(),o=0;o<dt.soundIDs.length;o++)if(dt.soundIDs[o]===e){dt.soundIDs.splice(o,1);break}return t||n.destruct(!0),n=null,delete dt.sounds[e],!0},this.load=function(e,t){return J(e)?dt.sounds[e].load(t):!1},this.unload=function(e){return J(e)?dt.sounds[e].unload():!1},this.onPosition=function(e,t,o,n){return J(e)?dt.sounds[e].onposition(t,o,n):!1},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,o){return J(e)?dt.sounds[e].clearOnPosition(t,o):!1},this.play=function(e,t){var o=!1;return Mt&&dt.ok()?J(e)?dt.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url&&(dt._wD(ht+'.play(): attempting to create "'+e+'"',1),t.id=e,o=dt.createSound(t).play()),o):(V(ht+".play(): "+N(Mt?"notOK":"notReady")),o)},this.start=this.play,this.setPosition=function(e,t){return J(e)?dt.sounds[e].setPosition(t):!1},this.stop=function(e){return J(e)?(dt._wD(ht+".stop("+e+")",1),dt.sounds[e].stop()):!1},this.stopAll=function(){var e;dt._wD(ht+".stopAll()",1);for(e in dt.sounds)dt.sounds.hasOwnProperty(e)&&dt.sounds[e].stop()},this.pause=function(e){return J(e)?dt.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=dt.soundIDs.length-1;e>=0;e--)dt.sounds[dt.soundIDs[e]].pause()},this.resume=function(e){return J(e)?dt.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=dt.soundIDs.length-1;e>=0;e--)dt.sounds[dt.soundIDs[e]].resume()},this.togglePause=function(e){return J(e)?dt.sounds[e].togglePause():!1},this.setPan=function(e,t){return J(e)?dt.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return J(e)?dt.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return J(e)?(dt._wD(ht+'.mute(): Muting "'+e+'"'),dt.sounds[e].mute()):!1;for(dt._wD(ht+".mute(): Muting all sounds"),t=dt.soundIDs.length-1;t>=0;t--)dt.sounds[dt.soundIDs[t]].mute();return dt.muted=!0,!0},this.muteAll=function(){dt.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return J(e)?(dt._wD(ht+'.unmute(): Unmuting "'+e+'"'),dt.sounds[e].unmute()):!1;for(dt._wD(ht+".unmute(): Unmuting all sounds"),t=dt.soundIDs.length-1;t>=0;t--)dt.sounds[dt.soundIDs[t]].unmute();return dt.muted=!1,!0},this.unmuteAll=function(){dt.unmute()},this.toggleMute=function(e){return J(e)?dt.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return ct&&8!==d&&(e=parseInt(ct._getMemoryUse(),10)),e},this.disable=function(e){var t;if(void 0===e&&(e=!1),St)return!1;for(St=!0,c("shutdown",1),t=dt.soundIDs.length-1;t>=0;t--)A(dt.sounds[dt.soundIDs[t]]);return h(e),nt.remove(gt,"load",v),!0},this.canPlayMIME=function(e){var t;return dt.hasHTML5&&(t=Y({type:e})),!t&&xt&&(t=e&&dt.ok()?!!((d>8?e.match(eo):null)||e.match(dt.mimePattern)):null),t},this.canPlayURL=function(e){var t;return dt.hasHTML5&&(t=Y({url:e})),!t&&xt&&(t=e&&dt.ok()?!!e.match(dt.filePattern):null),t},this.canPlayLink=function(e){return void 0!==e.type&&e.type&&dt.canPlayMIME(e.type)?!0:dt.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw new Error(ht+".getSoundById(): sID is null/undefined");var o=dt.sounds[e];return o||t||dt._wD('"'+e+'" is an invalid sound ID.',2),o},this.onready=function(e,t){var o="onready",n=!1;if("function"!=typeof e)throw N("needFunction",o);return Mt&&dt._wD(N("queue",o)),t||(t=gt),g(o,e,t),y(),n=!0,n},this.ontimeout=function(e,t){var o="ontimeout",n=!1;if("function"!=typeof e)throw N("needFunction",o);return Mt&&dt._wD(N("queue",o)),t||(t=gt),g(o,e,t),y({type:o}),n=!0,n},this._writeDebug=function(e,t,o){var n,i,a,r="soundmanager-debug";if(!dt.debugMode)return!1;if(void 0!==o&&o&&(e=e+" | "+(new Date).getTime()),Qt&&dt.useConsole&&(a=Pt[t],void 0!==console[a]?console[a](e):console.log(e),dt.consoleOnly))return!0;try{if(n=s(r),!n)return!1;i=vt.createElement("div"),0===++Tt%2&&(i.className="sm2-alt"),t=void 0===t?0:parseInt(t,10),i.appendChild(vt.createTextNode(e)),t&&(t>=2&&(i.style.fontWeight="bold"),3===t&&(i.style.color="#ff3333")),n.insertBefore(i,n.firstChild)}catch(l){}return n=null,!0},this._wD=this._writeDebug,this._debug=function(){var e,t;for(c("currentObj",1),e=0,t=dt.soundIDs.length;t>e;e++)dt.sounds[dt.soundIDs[e]]._debug()},this.reboot=function(){dt._wD(ht+".reboot()"),dt.soundIDs.length&&dt._wD("Destroying "+dt.soundIDs.length+" SMSound objects...");var e,t;for(e=dt.soundIDs.length-1;e>=0;e--)dt.sounds[dt.soundIDs[e]].destruct();if(ct)try{Bt&&(Ht=ct.innerHTML),It=ct.parentNode.removeChild(ct),dt._wD("Flash movie removed.")}catch(o){c("badRemove",2)}Ht=It=xt=null,dt.enabled=P=Mt=Et=kt=Ot=Dt=St=dt.swfLoaded=!1,dt.soundIDs=[],dt.sounds={},ct=null;for(e in wt)if(wt.hasOwnProperty(e))for(t=wt[e].length-1;t>=0;t--)wt[e][t].fired=!1;dt._wD(ht+": Rebooting..."),gt.setTimeout(dt.beginDelayedInit,20)},this.getMoviePercent=function(){return ct&&"PercentLoaded"in ct?ct.PercentLoaded():null},this.beginDelayedInit=function(){Lt=!0,L(),setTimeout(function(){return kt?!1:(I(),S(),kt=!0,!0)},20),w()},this.destruct=function(){dt._wD(ht+".destruct()"),dt.disable(!0)},a=function(e){var t,o,n,i,a,s,r,l,u,h=this,m=!1,_=[],g=0,y=null;u={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=p(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){if(dt.debugMode){var e,t,o=null,n=[],i=64;for(o in h.options)null!==h.options[o]&&("function"==typeof h.options[o]?(e=h.options[o].toString(),e=e.replace(/\s\s+/g," "),t=e.indexOf("{"),n.push(" "+o+": {"+e.substr(t+1,Math.min(Math.max(e.indexOf("\n")-1,i),i)).replace(/\n/g,"")+"... }")):n.push(" "+o+": "+h.options[o]));dt._wD("SMSound() merged options: {\n"+n.join(", \n")+"\n}")}},this._debug(),this.load=function(e){var t,o=null;if(void 0!==e?h._iO=p(e,h.options):(e=h.options,h._iO=e,y&&y!==h.url&&(c("manURL"),h._iO.url=h.url,h.url=null)),h._iO.url||(h._iO.url=h.url),h._iO.url=X(h._iO.url),h.instanceOptions=h._iO,t=h._iO,dt._wD("SMSound.load(): "+t.url,1),t.url===h.url&&0!==h.readyState&&2!==h.readyState)return c("onURL",1),3===h.readyState&&t.onload&&t.onload.apply(h,[!!h.duration]),h;if(h.loaded=!1,h.readyState=1,h.playState=0,h.id3={},z(t))o=h._setup_html5(t),o._called_load?dt._wD(mt+"ignoring request to load again: "+h.id):(dt._wD(mt+"load: "+h.id),h._html5_canplay=!1,h.url!==t.url&&(dt._wD(c("manURL")+": "+t.url),h._a.src=t.url,h.setPosition(0)),h._a.autobuffer="auto",h._a.preload="auto",h._a._called_load=!0,t.autoPlay&&h.play());else try{h.isHTML5=!1,h._iO=q(j(t)),t=h._iO,8===d?ct._load(h.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):ct._load(h.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(n){c("smError",2),f("onload",!1),H({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return h.url=t.url,h},this.unload=function(){return 0!==h.readyState&&(dt._wD('SMSound.unload(): "'+h.id+'"'),h.isHTML5?(i(),h._a&&(h._a.pause(),et(h._a,zt),y=zt)):8===d?ct._unload(h.id,zt):ct._unload(h.id),t()),h},this.destruct=function(e){dt._wD('SMSound.destruct(): "'+h.id+'"'),h.isHTML5?(i(),h._a&&(h._a.pause(),et(h._a),Rt||n(),h._a._s=null,h._a=null)):(h._iO.onfailure=null,ct._destroySound(h.id)),e||dt.destroySound(h.id,!0)},this.play=function(e,t){var o,n,i,r,u=!0,f=null;if(o="SMSound.play(): ",t=void 0===t?!0:t,e||(e={}),h.url&&(h._iO.url=h.url),h._iO=p(h._iO,h.options),h._iO=p(e,h._iO),h._iO.url=X(h._iO.url),h.instanceOptions=h._iO,h._iO.serverURL&&!h.connected)return h.getAutoPlay()||(dt._wD(o+" Netstream not connected yet - setting autoPlay"),h.setAutoPlay(!0)),h;if(z(h._iO)&&(h._setup_html5(h._iO),a()),1!==h.playState||h.paused||(n=h._iO.multiShot,n?dt._wD(o+'"'+h.id+'" already playing (multi-shot)',1):(dt._wD(o+'"'+h.id+'" already playing (one-shot)',1),f=h)),null!==f)return f;if(e.url&&e.url!==h.url&&h.load(h._iO),h.loaded?dt._wD(o+'"'+h.id+'"'):0===h.readyState?(dt._wD(o+'Attempting to load "'+h.id+'"',1),h.isHTML5?h.load(h._iO):(h._iO.autoPlay=!0,h.load(h._iO)),h.instanceOptions=h._iO):2===h.readyState?(dt._wD(o+'Could not load "'+h.id+'" - exiting',2),f=h):dt._wD(o+'"'+h.id+'" is loading - attempting to play..',1),null!==f)return f;if(!h.isHTML5&&9===d&&h.position>0&&h.position===h.duration&&(dt._wD(o+'"'+h.id+'": Sound at end, resetting to position:0'),e.position=0),h.paused&&h.position>=0&&(!h._iO.serverURL||h.position>0))dt._wD(o+'"'+h.id+'" is resuming from paused state',1),h.resume();else{if(h._iO=p(e,h._iO),null!==h._iO.from&&null!==h._iO.to&&0===h.instanceCount&&0===h.playState&&!h._iO.serverURL){if(r=function(){h._iO=p(e,h._iO),h.play(h._iO)},h.isHTML5&&!h._html5_canplay?(dt._wD(o+'Beginning load of "'+h.id+'" for from/to case'),h.load({oncanplay:r}),f=!1):h.isHTML5||h.loaded||h.readyState&&2===h.readyState||(dt._wD(o+'Preloading "'+h.id+'" for from/to case'),h.load({onload:r}),f=!1),null!==f)return f;h._iO=l()}dt._wD(o+'"'+h.id+'" is starting to play'),(!h.instanceCount||h._iO.multiShotEvents||!h.isHTML5&&d>8&&!h.getAutoPlay())&&h.instanceCount++,h._iO.onposition&&0===h.playState&&s(h),h.playState=1,h.paused=!1,h.position=void 0===h._iO.position||isNaN(h._iO.position)?0:h._iO.position,h.isHTML5||(h._iO=q(j(h._iO))),h._iO.onplay&&t&&(h._iO.onplay.apply(h),m=!0),h.setVolume(h._iO.volume,!0),h.setPan(h._iO.pan,!0),h.isHTML5?(a(),i=h._setup_html5(),h.setPosition(h._iO.position),i.play()):(u=ct._start(h.id,h._iO.loops||1,9===d?h._iO.position:h._iO.position/1e3,h._iO.multiShot),9!==d||u||(dt._wD(o+h.id+": No sound hardware, or 32-sound ceiling hit"),h._iO.onplayerror&&h._iO.onplayerror.apply(h)))}return h},this.start=this.play,this.stop=function(e){var t,o=h._iO;return 1===h.playState&&(h._onbufferchange(0),h._resetOnPosition(0),h.paused=!1,h.isHTML5||(h.playState=0),r(),o.to&&h.clearOnPosition(o.to),h.isHTML5?h._a&&(t=h.position,h.setPosition(0),h.position=t,h._a.pause(),h.playState=0,h._onTimer(),i()):(ct._stop(h.id,e),o.serverURL&&h.unload()),h.instanceCount=0,h._iO={},o.onstop&&o.onstop.apply(h)),h},this.setAutoPlay=function(e){dt._wD("sound "+h.id+" turned autoplay "+(e?"on":"off")),h._iO.autoPlay=e,h.isHTML5||(ct._setAutoPlay(h.id,e),e&&(h.instanceCount||1!==h.readyState||(h.instanceCount++,dt._wD("sound "+h.id+" incremented instance count to "+h.instanceCount))))},this.getAutoPlay=function(){return h._iO.autoPlay},this.setPosition=function(e){void 0===e&&(e=0);var t,o,n,i=h.isHTML5?Math.max(e,0):Math.min(h.duration||h._iO.duration,Math.max(e,0));if(t=h.position,h.position=i,n=h.position/1e3,h._resetOnPosition(h.position),h._iO.position=i,h.isHTML5){if(h._a)if(h._html5_canplay){if(h._a.currentTime!==n){dt._wD("setPosition("+n+"): setting position");try{h._a.currentTime=n,(0===h.playState||h.paused)&&h._a.pause()}catch(a){dt._wD("setPosition("+n+"): setting position failed: "+a.message,2)}}}else dt._wD("setPosition("+n+"): delaying, sound not ready")}else o=9===d?h.position:n,h.readyState&&2!==h.readyState&&ct._setPosition(h.id,o,h.paused||!h.playState,h._iO.multiShot);return h.isHTML5&&h.paused&&h._onTimer(!0),h},this.pause=function(e){return h.paused||0===h.playState&&1!==h.readyState?h:(dt._wD("SMSound.pause()"),h.paused=!0,h.isHTML5?(h._setup_html5().pause(),i()):(e||void 0===e)&&ct._pause(h.id,h._iO.multiShot),h._iO.onpause&&h._iO.onpause.apply(h),h)},this.resume=function(){var e=h._iO;return h.paused?(dt._wD("SMSound.resume()"),h.paused=!1,h.playState=1,h.isHTML5?(h._setup_html5().play(),a()):(e.isMovieStar&&!e.serverURL&&h.setPosition(h.position),ct._pause(h.id,e.multiShot)),!m&&e.onplay?(e.onplay.apply(h),m=!0):e.onresume&&e.onresume.apply(h),h):h},this.togglePause=function(){return dt._wD("SMSound.togglePause()"),0===h.playState?(h.play({position:9!==d||h.isHTML5?h.position/1e3:h.position}),h):(h.paused?h.resume():h.pause(),h)},this.setPan=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=!1),h.isHTML5||ct._setPan(h.id,e),h._iO.pan=e,t||(h.pan=e,h.options.pan=e),h},this.setVolume=function(e,t){return void 0===e&&(e=100),void 0===t&&(t=!1),h.isHTML5?h._a&&(h._a.volume=Math.max(0,Math.min(1,e/100))):ct._setVolume(h.id,dt.muted&&!h.muted||h.muted?0:e),h._iO.volume=e,t||(h.volume=e,h.options.volume=e),h},this.mute=function(){return h.muted=!0,h.isHTML5?h._a&&(h._a.muted=!0):ct._setVolume(h.id,0),h},this.unmute=function(){h.muted=!1;var e=void 0!==h._iO.volume;return h.isHTML5?h._a&&(h._a.muted=!1):ct._setVolume(h.id,e?h._iO.volume:h.options.volume),h},this.toggleMute=function(){return h.muted?h.unmute():h.mute()},this.onPosition=function(e,t,o){return _.push({position:parseInt(e,10),method:t,scope:void 0!==o?o:h,fired:!1}),h},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var o;if(e=parseInt(e,10),isNaN(e))return!1;for(o=0;o<_.length;o++)e===_[o].position&&(t&&t!==_[o].method||(_[o].fired&&g--,_.splice(o,1)))},this._processOnPosition=function(){var e,t,o=_.length;if(!o||!h.playState||g>=o)return!1;for(e=o-1;e>=0;e--)t=_[e],!t.fired&&h.position>=t.position&&(t.fired=!0,g++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,o,n=_.length;if(!n)return!1;for(t=n-1;t>=0;t--)o=_[t],o.fired&&e<=o.position&&(o.fired=!1,g--);return!0},l=function(){var e,t,o=h._iO,n=o.from,i=o.to;return t=function(){dt._wD(h.id+': "to" time of '+i+" reached."),h.clearOnPosition(i,t),h.stop()},e=function(){dt._wD(h.id+': playing "from" '+n),null===i||isNaN(i)||h.onPosition(i,t)},null===n||isNaN(n)||(o.position=n,o.multiShot=!1,e()),o},s=function(){var e,t=h._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&h.onPosition(parseInt(e,10),t[e])},r=function(){var e,t=h._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&h.clearOnPosition(parseInt(e,10))},a=function(){h.isHTML5&&Q(h)},i=function(){h.isHTML5&&$(h)},t=function(e){e||(_=[],g=0),m=!1,h._hasTimer=null,h._a=null,h._html5_canplay=!1,h.bytesLoaded=null,h.bytesTotal=null,h.duration=h._iO&&h._iO.duration?h._iO.duration:null,h.durationEstimate=null,h.buffered=[],h.eqData=[],h.eqData.left=[],h.eqData.right=[],h.failures=0,h.isBuffering=!1,h.instanceOptions={},h.instanceCount=0,h.loaded=!1,h.metadata={},h.readyState=0,h.muted=!1,h.paused=!1,h.peakData={left:0,right:0},h.waveformData={left:[],right:[]},h.playState=0,h.position=null,h.id3={}},t(),this._onTimer=function(e){var t,o,n=!1,i={};return h._hasTimer||e?(h._a&&(e||(h.playState>0||1===h.readyState)&&!h.paused)&&(t=h._get_html5_duration(),t!==u.duration&&(u.duration=t,h.duration=t,n=!0),h.durationEstimate=h.duration,o=1e3*h._a.currentTime||0,o!==u.time&&(u.time=o,n=!0),(n||e)&&h._whileplaying(o,i,i,i,i)),n):void 0},this._get_html5_duration=function(){var e=h._iO,t=h._a&&h._a.duration?1e3*h._a.duration:e&&e.duration?e.duration:null,o=t&&!isNaN(t)&&1/0!==t?t:null;return o},this._apply_loop=function(e,t){!e.loop&&t>1&&dt._wD("Note: Native HTML5 looping is infinite."),e.loop=t>1?"loop":""},this._setup_html5=function(e){var n,i=p(h._iO,e),a=decodeURI,s=Rt?ft:h._a,r=a(i.url);if(Rt?r===it&&(n=!0):r===y&&(n=!0),s){if(s._s)if(Rt)s._s&&s._s.playState&&!n&&s._s.stop();else if(!Rt&&r===a(y))return h._apply_loop(s,i.loops),s;n||(t(!1),s.src=i.url,h.url=i.url,y=i.url,it=i.url,s._called_load=!1)}else c("h5a"),h._a=i.autoLoad||i.autoPlay?new Audio(i.url):qt&&opera.version()<10?new Audio(null):new Audio,s=h._a,s._called_load=!1,Rt&&(ft=s);return h.isHTML5=!0,h._a=s,s._s=h,o(),h._apply_loop(s,i.loops),i.autoLoad||i.autoPlay?h.load():(s.autobuffer=!1,s.preload="auto"),s},o=function(){function e(e,t,o){return h._a?h._a.addEventListener(e,t,o||!1):null}if(h._a._added_events)return!1;var t;h._a._added_events=!0;for(t in lt)lt.hasOwnProperty(t)&&e(t,lt[t]);return!0},n=function(){function e(e,t,o){return h._a?h._a.removeEventListener(e,t,o||!1):null}var t;dt._wD(mt+"removing event listeners: "+h.id),h._a._added_events=!1;for(t in lt)lt.hasOwnProperty(t)&&e(t,lt[t])},this._onload=function(e){var t,o=!!e||!h.isHTML5&&8===d&&h.duration;return t="SMSound._onload(): ",dt._wD(t+'"'+h.id+'"'+(o?" loaded.":" failed to load? - "+h.url),o?1:2),o||h.isHTML5||(dt.sandbox.noRemote===!0&&dt._wD(t+N("noNet"),1),dt.sandbox.noLocal===!0&&dt._wD(t+N("noLocal"),1)),h.loaded=o,h.readyState=o?3:2,h._onbufferchange(0),h._iO.onload&&h._iO.onload.apply(h,[o]),!0},this._onbufferchange=function(e){return 0===h.playState?!1:e&&h.isBuffering||!e&&!h.isBuffering?!1:(h.isBuffering=1===e,h._iO.onbufferchange&&(dt._wD("SMSound._onbufferchange(): "+e),h._iO.onbufferchange.apply(h)),!0)},this._onsuspend=function(){return h._iO.onsuspend&&(dt._wD("SMSound._onsuspend()"),h._iO.onsuspend.apply(h)),!0},this._onfailure=function(e,t,o){h.failures++,dt._wD('SMSound._onfailure(): "'+h.id+'" count '+h.failures),h._iO.onfailure&&1===h.failures?h._iO.onfailure(h,e,t,o):dt._wD("SMSound._onfailure(): ignoring")},this._onfinish=function(){var e=h._iO.onfinish;h._onbufferchange(0),h._resetOnPosition(0),h.instanceCount&&(h.instanceCount--,h.instanceCount||(r(),h.playState=0,h.paused=!1,h.instanceCount=0,h.instanceOptions={},h._iO={},i(),h.isHTML5&&(h.position=0)),(!h.instanceCount||h._iO.multiShotEvents)&&e&&(dt._wD('SMSound._onfinish(): "'+h.id+'"'),e.apply(h)))},this._whileloading=function(e,t,o,n){var i=h._iO;h.bytesLoaded=e,h.bytesTotal=t,h.duration=Math.floor(o),h.bufferLength=n,h.durationEstimate=h.isHTML5||i.isMovieStar?h.duration:i.duration?h.duration>i.duration?h.duration:i.duration:parseInt(h.bytesTotal/h.bytesLoaded*h.duration,10),h.isHTML5||(h.buffered=[{start:0,end:h.duration}]),(3!==h.readyState||h.isHTML5)&&i.whileloading&&i.whileloading.apply(h)},this._whileplaying=function(e,t,o,n,i){var a,s=h._iO;return isNaN(e)||null===e?!1:(h.position=Math.max(0,e),h._processOnPosition(),!h.isHTML5&&d>8&&(s.usePeakData&&void 0!==t&&t&&(h.peakData={left:t.leftPeak,right:t.rightPeak}),s.useWaveformData&&void 0!==o&&o&&(h.waveformData={left:o.split(","),right:n.split(",")}),s.useEQData&&void 0!==i&&i&&i.leftEQ&&(a=i.leftEQ.split(","),h.eqData=a,h.eqData.left=a,void 0!==i.rightEQ&&i.rightEQ&&(h.eqData.right=i.rightEQ.split(",")))),1===h.playState&&(h.isHTML5||8!==d||h.position||!h.isBuffering||h._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(h)),!0)},this._oncaptiondata=function(e){dt._wD('SMSound._oncaptiondata(): "'+this.id+'" caption data received.'),h.captiondata=e,h._iO.oncaptiondata&&h._iO.oncaptiondata.apply(h,[e])},this._onmetadata=function(e,t){dt._wD('SMSound._onmetadata(): "'+this.id+'" metadata received.');var o,n,i={};for(o=0,n=e.length;n>o;o++)i[e[o]]=t[o];h.metadata=i,h._iO.onmetadata&&h._iO.onmetadata.apply(h)},this._onid3=function(e,t){dt._wD('SMSound._onid3(): "'+this.id+'" ID3 data received.');var o,n,i=[];for(o=0,n=e.length;n>o;o++)i[e[o]]=t[o];h.id3=p(h.id3,i),h._iO.onid3&&h._iO.onid3.apply(h)},this._onconnect=function(e){e=1===e,dt._wD('SMSound._onconnect(): "'+h.id+'"'+(e?" connected.":" failed to connect? - "+h.url),e?1:2),h.connected=e,e&&(h.failures=0,J(h.id)&&(h.getAutoPlay()?h.play(void 0,h.getAutoPlay()):h._iO.autoLoad&&h.load()),h._iO.onconnect&&h._iO.onconnect.apply(h,[e]))},this._ondataerror=function(e){h.playState>0&&(dt._wD("SMSound._ondataerror(): "+e),h._iO.ondataerror&&h._iO.ondataerror.apply(h))}},F=function(){return vt.body||vt._docElement||vt.getElementsByTagName("div")[0]},s=function(e){return vt.getElementById(e)},p=function(e,t){var o,n,i=e||{};o=void 0===t?dt.defaultOptions:t;for(n in o)o.hasOwnProperty(n)&&void 0===i[n]&&(i[n]="object"!=typeof o[n]||null===o[n]?o[n]:p(i[n],o[n]));return i},_={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},m=function(e,t){var o,n=!0,i=void 0!==t,a=dt.setupOptions,s=_;if(void 0===e){n=[];for(o in a)a.hasOwnProperty(o)&&n.push(o);for(o in s)s.hasOwnProperty(o)&&("object"==typeof dt[o]?n.push(o+": {...}"):dt[o]instanceof Function?n.push(o+": function() {...}"):n.push(o));return dt._wD(N("setup",n.join(", "))),!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array)i&&void 0!==s[t]?dt[t][o]=e[o]:void 0!==a[o]?(dt.setupOptions[o]=e[o],dt[o]=e[o]):void 0===s[o]?(V(N(void 0===dt[o]?"setupUndef":"setupError",o),2),n=!1):dt[o]instanceof Function?dt[o].apply(dt,e[o]instanceof Array?e[o]:[e[o]]):dt[o]=e[o];else{if(void 0!==s[o])return m(e[o],o);V(N(void 0===dt[o]?"setupUndef":"setupError",o),2),n=!1}return n},nt=function(){function e(e){var t=Nt.call(e),o=t.length;return i?(t[1]="on"+t[1],o>3&&t.pop()):3===o&&t.push(!1),t}function t(e,t){var o=e.shift(),n=[a[t]];i?o[n](e[0],e[1]):o[n].apply(o,e)}function o(){t(e(arguments),"add")}function n(){t(e(arguments),"remove")}var i=gt.attachEvent,a={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"};return{add:o,remove:n}}(),lt={abort:i(function(){dt._wD(mt+"abort: "+this._s.id)}),canplay:i(function(){var e,t=this._s;if(t._html5_canplay)return!0;if(t._html5_canplay=!0,dt._wD(mt+"canplay: "+t.id+", "+t.url),t._onbufferchange(0),e=void 0===t._iO.position||isNaN(t._iO.position)?null:t._iO.position/1e3,t.position&&this.currentTime!==e){dt._wD(mt+"canplay: setting position to "+e);try{this.currentTime=e}catch(o){dt._wD(mt+"setting position of "+e+" failed: "+o.message,2)}}t._iO._oncanplay&&t._iO._oncanplay()}),canplaythrough:i(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){var e=this._s;dt._wD(mt+"ended: "+e.id),e._onfinish()}),error:i(function(){dt._wD(mt+"error: "+this.error.code),this._s._onload(!1)}),loadeddata:i(function(){var e=this._s;dt._wD(mt+"loadeddata: "+e.id),e._loaded||jt||(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){dt._wD(mt+"loadedmetadata: "+this._s.id)}),loadstart:i(function(){dt._wD(mt+"loadstart: "+this._s.id),this._s._onbufferchange(1)}),play:i(function(){dt._wD(mt+"play: "+this._s.id+", "+this._s.url),this._s._onbufferchange(0)}),playing:i(function(){dt._wD(mt+"playing: "+this._s.id),this._s._onbufferchange(0)}),progress:i(function(e){var t,o,n,i=this._s,a=0,s="progress"===e.type,r=e.target.buffered,l=e.loaded||0,u=e.total||1,d=1e3;if(i.buffered=[],r&&r.length){for(t=0,o=r.length;o>t;t++)i.buffered.push({start:r.start(t)*d,end:r.end(t)*d});if(a=(r.end(0)-r.start(0))*d,l=a/(e.target.duration*d),s&&r.length>1){for(n=[],o=r.length,t=0;o>t;t++)n.push(e.target.buffered.start(t)*d+"-"+e.target.buffered.end(t)*d);dt._wD(mt+"progress: timeRanges: "+n.join(", "))}s&&!isNaN(l)&&dt._wD(mt+"progress: "+i.id+": "+Math.floor(100*l)+"% loaded")}isNaN(l)||(i._onbufferchange(0),i._whileloading(l,u,i._get_html5_duration()),l&&u&&l===u&&lt.canplaythrough.call(this,e))}),ratechange:i(function(){dt._wD(mt+"ratechange: "+this._s.id)}),suspend:i(function(e){var t=this._s;dt._wD(mt+"suspend: "+t.id),lt.progress.call(this,e),t._onsuspend()}),stalled:i(function(){dt._wD(mt+"stalled: "+this._s.id)}),timeupdate:i(function(){this._s._onTimer()}),waiting:i(function(){var e=this._s;dt._wD(mt+"waiting: "+e.id),e._onbufferchange(1)})},z=function(e){var t;return t=e.serverURL||e.type&&n(e.type)?!1:e.type?Y({type:e.type}):Y({url:e.url})||dt.html5Only},et=function(e,t){e&&(e.src=t)},Y=function(e){if(!dt.useHTML5Audio||!dt.hasHTML5)return!1;var t,o,i,a,s=e.url||null,r=e.type||null,l=dt.audioFormats;if(r&&void 0!==dt.html5[r])return dt.html5[r]&&!n(r);if(!Z){Z=[];for(a in l)l.hasOwnProperty(a)&&(Z.push(a),l[a].related&&(Z=Z.concat(l[a].related)));Z=new RegExp("\\.("+Z.join("|")+")(\\?.*)?$","i")}return i=s?s.toLowerCase().match(Z):null,i&&i.length?i=i[1]:r?(o=r.indexOf(";"),i=(-1!==o?r.substr(0,o):r).substr(6)):t=!1,i&&void 0!==dt.html5[i]?t=dt.html5[i]&&!n(i):(r="audio/"+i,t=dt.html5.canPlayType({type:r}),dt.html5[i]=t,t=t&&dt.html5[r]&&!n(r)),t},ot=function(){function e(e){var t,o,n,i=!1,s=!1;if(!a||"function"!=typeof a.canPlayType)return i;if(e instanceof Array){for(o=0,n=e.length;n>o;o++)(dt.html5[e[o]]||a.canPlayType(e[o]).match(dt.html5Test))&&(s=!0,dt.html5[e[o]]=!0,dt.flash[e[o]]=!!e[o].match(Gt));i=s}else t=a&&"function"==typeof a.canPlayType?a.canPlayType(e):!1,i=!(!t||!t.match(dt.html5Test));return i}if(!dt.useHTML5Audio||!dt.hasHTML5)return!1;var t,o,n,i,a=void 0!==Audio?qt&&opera.version()<10?new Audio(null):new Audio:null,s={};n=dt.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&(o="audio/"+t,s[t]=e(n[t].type),s[o]=s[t],t.match(Gt)?(dt.flash[t]=!0,dt.flash[o]=!0):(dt.flash[t]=!1,dt.flash[o]=!1),n[t]&&n[t].related))for(i=n[t].related.length-1;i>=0;i--)s["audio/"+n[t].related[i]]=s[t],dt.html5[n[t].related[i]]=s[t],dt.flash[n[t].related[i]]=s[t];return s.canPlayType=a?e:null,dt.html5=p(dt.html5,s),!0},M={notReady:"Not loaded yet - wait for soundManager.onready()",notOK:"Audio support is not available.",domError:pt+"createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:pt+"createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:ht+": Verify that %s is a valid path.",tryDebug:"Try "+ht+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:ht+": Non-HTTP page ("+vt.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:ht+": Special case: Waiting for SWF to load with window focus...",waitImpatient:ht+": Getting impatient, still waiting for Flash%s...",waitForever:ht+": Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:ht+": Retrying, waiting for 100% SWF load...",needFunction:ht+": Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"--- "+ht+"._debug(): Current sound objects ---",waitEI:pt+"initMovie(): Waiting for ExternalInterface call from Flash...",waitOnload:ht+": Waiting for window.onload()",docLoaded:ht+": Document already loaded",onload:pt+"initComplete(): calling soundManager.onload()",onloadOK:ht+".onload() complete",init:pt+"init()",didInit:pt+"init(): Already called?",flashJS:ht+": Attempting JS to Flash call...",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",shutdown:ht+".disable(): Shutting down",queue:ht+": Queueing %s handler",smFail:ht+": Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+B.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:pt+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ht+".load(): current URL already assigned.",badFV:ht+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:ht+": Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:ht+": Got window focus.",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access",setup:ht+".setup(): allowed parameters: %s",setupError:ht+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ht+'.setup(): Could not find option "%s"',setupLate:ht+".setup(): url + flashVersion changes will not take effect until reboot().",h5a:"creating HTML5 Audio() object",noURL:ht+": Flash URL required. Call soundManager.setup({url:...}) to get started."},N=function(){var e,t,o=Nt.call(arguments),n=o.shift(),i=M&&M[n]?M[n]:"";
if(i&&o&&o.length)for(e=0,t=o.length;t>e;e++)i=i.replace("%s",o[e]);return i},j=function(e){return 8===d&&e.loops>1&&e.stream&&(c("as2loop"),e.stream=!1),e},q=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(dt._wD((t||"")+N("policy")),e.usePolicyFile=!0),e},V=function(e){void 0!==console&&void 0!==console.warn?console.warn(e):dt._wD(e)},r=function(){return!1},A=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=r);t=null},C=function(e){void 0===e&&(e=!1),(St||e)&&(c("smFail",2),dt.disable(e))},x=function(e){var t,o=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(o=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+dt.movieURL,dt.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},O=function(){d=parseInt(dt.flashVersion,10),8!==d&&9!==d&&(dt._wD(N("badFV",d,Ft)),dt.flashVersion=d=Ft);var e=dt.debugMode||dt.debugFlash?"_debug.swf":".swf";dt.useHTML5Audio&&!dt.html5Only&&dt.audioFormats.mp4.required&&9>d&&(dt._wD(N("needfl9")),dt.flashVersion=d=9),dt.version=dt.versionNumber+(dt.html5Only?" (HTML5-only mode)":9===d?" (AS3/Flash 9)":" (AS2/Flash 8)"),d>8?(dt.defaultOptions=p(dt.defaultOptions,dt.flash9Options),dt.features.buffering=!0,dt.defaultOptions=p(dt.defaultOptions,dt.movieStarOptions),dt.filePatterns.flash9=new RegExp("\\.(mp3|"+to.join("|")+")(\\?.*)?$","i"),dt.features.movieStar=!0):dt.features.movieStar=!1,dt.filePattern=dt.filePatterns[8!==d?"flash9":"flash8"],dt.movieURL=(8===d?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),dt.features.peakData=dt.features.waveformData=dt.features.eqData=d>8},E=function(e,t){return ct?(ct._setPolling(e,t),void 0):!1},k=function(){if(dt.debugURLParam.test(yt)&&(dt.debugMode=!0),s(dt.debugID))return!1;var e,t,o,n,i;if(!(!dt.debugMode||s(dt.debugID)||Qt&&dt.useConsole&&dt.consoleOnly)){e=vt.createElement("div"),e.id=dt.debugID+"-toggle",n={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(vt.createTextNode("-")),e.onclick=W,e.title="Toggle SM2 debug console",_t.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(i in n)n.hasOwnProperty(i)&&(e.style[i]=n[i]);if(t=vt.createElement("div"),t.id=dt.debugID,t.style.display=dt.debugMode?"block":"none",dt.debugMode&&!s(e.id)){try{o=F(),o.appendChild(e)}catch(a){throw new Error(N("domError")+" \n"+a.toString())}o.appendChild(t)}}o=null},J=this.getSoundById,c=function(e,t){return e?dt._wD(N(e),t):""},yt.indexOf("sm2-debug=alert")+1&&dt.debugMode&&(dt._wD=function(t){e.alert(t)}),W=function(){var e=s(dt.debugID),t=s(dt.debugID+"-toggle");return e?(bt?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),bt=!bt,void 0):!1},f=function(e,t,o){if(void 0!==gt.sm2Debugger)try{sm2Debugger.handleEvent(e,t,o)}catch(n){}return!0},U=function(){var e=[];return dt.debugMode&&e.push(B.sm2Debug),dt.debugFlash&&e.push(B.flashDebug),dt.useHighPerformance&&e.push(B.highPerf),e.join(" ")},R=function(){var e=N("fbHandler"),t=dt.getMoviePercent(),o=B,n={type:"FLASHBLOCK"};return dt.html5Only?!1:(dt.ok()?(dt.didFlashBlock&&dt._wD(e+": Unblocked"),dt.oMC&&(dt.oMC.className=[U(),o.swfDefault,o.swfLoaded+(dt.didFlashBlock?" "+o.swfUnblocked:"")].join(" "))):(xt&&(dt.oMC.className=U()+" "+o.swfDefault+" "+(null===t?o.swfTimedout:o.swfError),dt._wD(e+": "+N("fbTimeout")+(t?" ("+N("fbLoaded")+")":""))),dt.didFlashBlock=!0,y({type:"ontimeout",ignoreInit:!0,error:n}),H(n)),void 0)},g=function(e,t,o){void 0===wt[e]&&(wt[e]=[]),wt[e].push({method:t,scope:o||null,fired:!1})},y=function(e){if(e||(e={type:dt.ok()?"onready":"ontimeout"}),!Mt&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(dt.ok()||St&&!e.ignoreInit))return!1;var t,o,n={success:e&&e.ignoreInit?dt.ok():!St},i=e&&e.type?wt[e.type]||[]:[],a=[],s=[n],r=xt&&dt.useFlashBlock&&!dt.ok();for(e.error&&(s[0].error=e.error),t=0,o=i.length;o>t;t++)i[t].fired!==!0&&a.push(i[t]);if(a.length)for(dt._wD(ht+": Firing "+a.length+" "+e.type+"() item"+(1===a.length?"":"s")),t=0,o=a.length;o>t;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},v=function(){gt.setTimeout(function(){dt.useFlashBlock&&R(),y(),"function"==typeof dt.onload&&(c("onload",1),dt.onload.apply(gt),c("onloadOK",1)),dt.waitForWindowLoad&&nt.add(gt,"load",v)},1)},st=function(){if(void 0!==at)return at;var e,t,o,n=!1,i=navigator,a=i.plugins,s=gt.ActiveXObject;if(a&&a.length)t="application/x-shockwave-flash",o=i.mimeTypes,o&&o[t]&&o[t].enabledPlugin&&o[t].enabledPlugin.description&&(n=!0);else if(void 0!==s&&!_t.match(/MSAppHost/i)){try{e=new s("ShockwaveFlash.ShockwaveFlash")}catch(r){}n=!!e,e=null}return at=n,n},G=function(){var e,t,o=!0,n=dt.audioFormats,i=Ut&&!!_t.match(/os (1|2|3_0|3_1)/i);if(i?(dt.hasHTML5=!1,dt.html5Only=!0,dt.oMC&&(dt.oMC.style.display="none"),o=!1):dt.useHTML5Audio&&(dt.html5&&dt.html5.canPlayType||(dt._wD("SoundManager: No HTML5 Audio() support detected."),dt.hasHTML5=!1),Jt&&dt._wD(pt+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(at?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),dt.useHTML5Audio&&dt.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!dt.html5.canPlayType(n[t].type)||dt.preferFlash&&(dt.flash[t]||dt.flash[n[t].type]))&&(e=!0);return dt.ignoreFlash&&(e=!1),dt.html5Only=dt.hasHTML5&&dt.useHTML5Audio&&!e,!dt.html5Only},X=function(e){var t,o,n,i=0;if(e instanceof Array){for(t=0,o=e.length;o>t;t++)if(e[t]instanceof Object){if(dt.canPlayMIME(e[t].type)){i=t;break}}else if(dt.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),n=e[i]}else n=e;return n},Q=function(e){e._hasTimer||(e._hasTimer=!0,!Vt&&dt.html5PollingInterval&&(null===Ct&&0===At&&(Ct=gt.setInterval(K,dt.html5PollingInterval)),At++))},$=function(e){e._hasTimer&&(e._hasTimer=!1,!Vt&&dt.html5PollingInterval&&At--)},K=function(){var e;if(null!==Ct&&!At)return gt.clearInterval(Ct),Ct=null,!1;for(e=dt.soundIDs.length-1;e>=0;e--)dt.sounds[dt.soundIDs[e]].isHTML5&&dt.sounds[dt.soundIDs[e]]._hasTimer&&dt.sounds[dt.soundIDs[e]]._onTimer()},H=function(e){e=void 0!==e?e:{},"function"==typeof dt.onerror&&dt.onerror.apply(gt,[{type:void 0!==e.type?e.type:null}]),void 0!==e.fatal&&e.fatal&&dt.disable()},rt=function(){if(!Jt||!st())return!1;var e,t,o=dt.audioFormats;for(t in o)if(o.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(dt._wD(ht+": Using flash fallback for "+t+" format"),dt.html5[t]=!1,o[t]&&o[t].related))for(e=o[t].related.length-1;e>=0;e--)dt.html5[o[t].related[e]]=!1},this._setSandboxType=function(e){var t=dt.sandbox;t.type=e,t.description=t.types[void 0!==t.types[e]?e:"unknown"],dt._wD("Flash security sandbox type: "+t.type),"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,c("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e,t){if(dt.swfLoaded)return!1;var o,n=(new Date).getTime();return dt._wD(pt+"externalInterfaceOK()"+(e?" (~"+(n-e)+" ms)":"")),f("swf",!0),f("flashtojs",!0),dt.swfLoaded=!0,Kt=!1,Jt&&rt(),t&&t.replace(/\+dev/i,"")===dt.versionNumber.replace(/\+dev/i,"")?(setTimeout(u,Bt?100:1),void 0):(o=ht+': Fatal: JavaScript file build "'+dt.versionNumber+'" does not match Flash SWF build "'+t+'" at '+dt.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(o)},0),!1)},I=function(e,t){function o(){dt._wD("-- SoundManager 2 "+dt.version+(!dt.html5Only&&dt.useHTML5Audio?dt.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(dt.html5Only?"":(dt.useHighPerformance?", high performance mode, ":", ")+((dt.flashPollingInterval?"custom ("+dt.flashPollingInterval+"ms)":"normal")+" polling")+(dt.wmode?", wmode: "+dt.wmode:"")+(dt.debugFlash?", flash debug mode":"")+(dt.useFlashBlock?", flashBlock mode":""))+" --",1)}function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(Ot&&Dt)return!1;if(dt.html5Only)return O(),o(),dt.oMC=s(dt.movieID),u(),Ot=!0,Dt=!0,!1;var i,a,r,l,d,f,h,p,m=t||dt.url,_=dt.altURL||m,g="JS/Flash audio component (SoundManager 2)",y=F(),v=U(),w=null,b=vt.getElementsByTagName("html")[0];if(w=b&&b.dir&&b.dir.match(/rtl/i),e=void 0===e?dt.id:e,O(),dt.url=x(Yt?m:_),t=dt.url,dt.wmode=!dt.wmode&&dt.useHighPerformance?"transparent":dt.wmode,null!==dt.wmode&&(_t.match(/msie 8/i)||!Bt&&!dt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(c("spcWmode"),dt.wmode=null),i={name:e,id:e,src:t,quality:"high",allowScriptAccess:dt.allowScriptAccess,bgcolor:dt.bgColor,pluginspage:Zt+"www.macromedia.com/go/getflashplayer",title:g,type:"application/x-shockwave-flash",wmode:dt.wmode,hasPriority:"true"},dt.debugFlash&&(i.FlashVars="debug=1"),dt.wmode||delete i.wmode,Bt)a=vt.createElement("div"),l=['<object id="'+e+'" data="'+t+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Zt+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",dt.allowScriptAccess),n("quality",i.quality),dt.wmode?n("wmode",dt.wmode):"",n("bgcolor",dt.bgColor),n("hasPriority","true"),dt.debugFlash?n("FlashVars",i.FlashVars):"","</object>"].join("");else{a=vt.createElement("embed");for(r in i)i.hasOwnProperty(r)&&a.setAttribute(r,i[r])}if(k(),v=U(),y=F())if(dt.oMC=s(dt.movieID)||vt.createElement("div"),dt.oMC.id)p=dt.oMC.className,dt.oMC.className=(p?p+" ":B.swfDefault)+(v?" "+v:""),dt.oMC.appendChild(a),Bt&&(d=dt.oMC.appendChild(vt.createElement("div")),d.className=B.swfBox,d.innerHTML=l),Dt=!0;else{if(dt.oMC.id=dt.movieID,dt.oMC.className=B.swfDefault+" "+v,f=null,d=null,dt.useFlashBlock||(dt.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},w&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Wt&&(dt.oMC.style.zIndex=1e4),!dt.debugFlash)for(h in f)f.hasOwnProperty(h)&&(dt.oMC.style[h]=f[h]);try{Bt||dt.oMC.appendChild(a),y.appendChild(dt.oMC),Bt&&(d=dt.oMC.appendChild(vt.createElement("div")),d.className=B.swfBox,d.innerHTML=l),Dt=!0}catch(D){throw new Error(N("domError")+" \n"+D.toString())}}return Ot=!0,o(),dt._wD(pt+"createMovie(): Trying to load "+t+(!Yt&&dt.altURL?" (alternate URL)":""),1),!0},S=function(){return dt.html5Only?(I(),!1):ct?!1:dt.url?(ct=dt.getMovie(dt.id),ct||(It?(Bt?dt.oMC.innerHTML=Ht:dt.oMC.appendChild(It),It=null,Ot=!0):I(dt.id,dt.url),ct=dt.getMovie(dt.id)),ct&&c("waitEI"),"function"==typeof dt.oninitmovie&&setTimeout(dt.oninitmovie,1),!0):(c("noURL"),!1)},w=function(){setTimeout(b,1e3)},b=function(){var e,t=!1;return dt.url?Et?!1:(Et=!0,nt.remove(gt,"load",w),Kt&&!$t?(c("waitFocus"),!1):(Mt||(e=dt.getMoviePercent(),dt._wD(N("waitImpatient",e>0?" (SWF "+e+"% loaded)":"")),e>0&&100>e&&(t=!0)),setTimeout(function(){return e=dt.getMoviePercent(),t?(Et=!1,dt._wD(N("waitSWF")),gt.setTimeout(w,1),!1):(Mt||(dt._wD(ht+": No Flash response within expected time.\nLikely causes: "+(0===e?"Loading "+dt.movieURL+" may have failed (and/or Flash "+d+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(dt.debugFlash?" "+N("checkSWF"):""),2),!Yt&&e&&(c("localFail",2),dt.debugFlash||c("tryDebug",2)),0===e&&dt._wD(N("swf404",dt.url)),f("flashtojs",!1," (Check flash security or flash blockers)")),!Mt&&Xt&&(null===e?dt.useFlashBlock||0===dt.flashLoadTimeout?(dt.useFlashBlock&&R(),c("waitForever")):C(!0):0===dt.flashLoadTimeout?c("waitForever"):C(!0)),void 0)},dt.flashLoadTimeout),void 0)):!1},D=function(){function e(){nt.remove(gt,"focus",D)}return $t||!Kt?(e(),!0):(Xt=!0,$t=!0,c("gotFocus"),Et=!1,w(),e(),!0)},ut=function(){var e,t=[];if(dt.useHTML5Audio&&dt.hasHTML5){for(e in dt.audioFormats)dt.audioFormats.hasOwnProperty(e)&&t.push(e+": "+dt.html5[e]+(!dt.html5[e]&&at&&dt.flash[e]?" (using flash)":dt.preferFlash&&dt.flash[e]&&at?" (preferring flash)":dt.html5[e]?"":" ("+(dt.audioFormats[e].required?"required, ":"")+"and no flash support)"));dt._wD("-- SoundManager 2: HTML5 support tests ("+dt.html5Test+"): "+t.join(", ")+" --",1)}},h=function(e){if(Mt)return!1;if(dt.html5Only)return dt._wD("-- SoundManager 2: loaded --"),Mt=!0,v(),f("onload",!0),!0;var t,o=dt.useFlashBlock&&dt.flashLoadTimeout&&!dt.getMoviePercent(),n=!0;return o||(Mt=!0,St&&(t={type:!at&&xt?"NO_FLASH":"INIT_TIMEOUT"})),dt._wD("-- SoundManager 2 "+(St?"failed to load":"loaded")+" ("+(St?"Flash security/load error":"OK")+") --",1),St||e?(dt.useFlashBlock&&dt.oMC&&(dt.oMC.className=U()+" "+(null===dt.getMoviePercent()?B.swfTimedout:B.swfError)),y({type:"ontimeout",error:t,ignoreInit:!0}),f("onload",!1),H(t),n=!1):f("onload",!0),St||(dt.waitForWindowLoad&&!Lt?(c("waitOnload"),nt.add(gt,"load",v)):(dt.waitForWindowLoad&&Lt&&c("docLoaded"),v())),n},l=function(){var e,t=dt.setupOptions;for(e in t)t.hasOwnProperty(e)&&(void 0===dt[e]?dt[e]=t[e]:dt[e]!==t[e]&&(dt.setupOptions[e]=dt[e]))},u=function(){function e(){nt.remove(gt,"load",dt.beginDelayedInit)}if(c("init"),Mt)return c("didInit"),!1;if(dt.html5Only)return Mt||(e(),dt.enabled=!0,h()),!0;S();try{c("flashJS"),ct._externalInterfaceTest(!1),E(!0,dt.flashPollingInterval||(dt.useHighPerformance?10:50)),dt.debugMode||ct._disableDebug(),dt.enabled=!0,f("jstoflash",!0),dt.html5Only||nt.add(gt,"unload",r)}catch(t){return dt._wD("js/flash exception: "+t.toString()),f("jstoflash",!1),H({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),C(!0),h(),!1}return h(),e(),!0},L=function(){return P?!1:(P=!0,l(),k(),function(){var t="sm2-usehtml5audio=",o="sm2-preferflash=",n=null,i=null,a=void 0!==e.console&&"function"==typeof console.log,s=yt.toLowerCase();-1!==s.indexOf(t)&&(n="1"===s.charAt(s.indexOf(t)+t.length),a&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),dt.setup({useHTML5Audio:n})),-1!==s.indexOf(o)&&(i="1"===s.charAt(s.indexOf(o)+o.length),a&&console.log((i?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),dt.setup({preferFlash:i}))}(),!at&&dt.hasHTML5&&(dt._wD("SoundManager: No Flash detected"+(dt.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),dt.setup({useHTML5Audio:!0,preferFlash:!1})),ot(),dt.html5.usingFlash=G(),xt=dt.html5.usingFlash,ut(),!at&&xt&&(c("needFlash"),dt.setup({flashLoadTimeout:1})),vt.removeEventListener&&vt.removeEventListener("DOMContentLoaded",L,!1),S(),!0)},tt=function(){return"complete"===vt.readyState&&(L(),vt.detachEvent("onreadystatechange",tt)),!0},T=function(){Lt=!0,nt.remove(gt,"load",T)},st(),nt.add(gt,"focus",D),nt.add(gt,"load",w),nt.add(gt,"load",T),vt.addEventListener?vt.addEventListener("DOMContentLoaded",L,!1):vt.attachEvent?vt.attachEvent("onreadystatechange",tt):(f("onload",!1),H({type:"NO_DOM2_EVENTS",fatal:!0}))}var o=null;void 0!==e.SM2_DEFER&&SM2_DEFER||(o=new t),e.SoundManager=t,e.soundManager=o}(window);